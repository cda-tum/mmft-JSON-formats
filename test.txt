{
    "$defs": {
        "BigDropletInjection": {
            "additionalProperties": false,
            "properties": {
                "fluid": {
                    "title": "Fluid",
                    "type": "integer"
                },
                "volume": {
                    "title": "Volume",
                    "type": "number"
                },
                "channel": {
                    "title": "Channel",
                    "type": "integer"
                },
                "pos": {
                    "title": "Pos",
                    "type": "number"
                },
                "deltaT": {
                    "anyOf": [
                        {
                            "exclusiveMinimum": 0.0,
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "If given and > 0, injections occur in regular intervals until the simulation ends, or t1",
                    "title": "Deltat"
                },
                "t0": {
                    "title": "T0",
                    "type": "number"
                },
                "t1": {
                    "title": "T1",
                    "type": "number"
                }
            },
            "required": [
                "fluid",
                "volume",
                "channel",
                "pos",
                "t0",
                "t1"
            ],
            "title": "BigDropletInjection",
            "type": "object"
        },
        "BoundaryCondition": {
            "additionalProperties": false,
            "properties": {
                "pump": {
                    "title": "Pump",
                    "type": "integer"
                },
                "deltaP": {
                    "anyOf": [
                        {
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Deltap"
                },
                "flowrate": {
                    "anyOf": [
                        {
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Flowrate"
                }
            },
            "required": [
                "pump"
            ],
            "title": "BoundaryCondition",
            "type": "object"
        },
        "Channel": {
            "additionalProperties": false,
            "properties": {
                "node1": {
                    "title": "Node1",
                    "type": "integer"
                },
                "node2": {
                    "title": "Node2",
                    "type": "integer"
                },
                "width": {
                    "title": "Width",
                    "type": "number"
                },
                "height": {
                    "title": "Height",
                    "type": "number"
                },
                "mesh": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/ChannelMesh"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "generator": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/ChannelGenerator"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "bypass": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Bypass"
                },
                "HSA": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Hsa"
                },
                "virtual": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Virtual"
                }
            },
            "required": [
                "node1",
                "node2",
                "width",
                "height"
            ],
            "title": "Channel",
            "type": "object"
        },
        "ChannelGenerator": {
            "additionalProperties": false,
            "properties": {},
            "title": "ChannelGenerator",
            "type": "object"
        },
        "ChannelMesh": {
            "additionalProperties": false,
            "properties": {},
            "title": "ChannelMesh",
            "type": "object"
        },
        "Color": {
            "additionalProperties": false,
            "properties": {
                "R": {
                    "exclusiveMaximum": 256,
                    "minimum": 0,
                    "title": "R",
                    "type": "integer"
                },
                "G": {
                    "exclusiveMaximum": 256,
                    "minimum": 0,
                    "title": "G",
                    "type": "integer"
                },
                "B": {
                    "exclusiveMaximum": 256,
                    "minimum": 0,
                    "title": "B",
                    "type": "integer"
                },
                "A": {
                    "exclusiveMaximum": 256,
                    "minimum": 0,
                    "title": "A",
                    "type": "integer"
                }
            },
            "required": [
                "R",
                "G",
                "B",
                "A"
            ],
            "title": "Color",
            "type": "object"
        },
        "Fixture": {
            "additionalProperties": false,
            "properties": {
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "phase": {
                    "title": "Phase",
                    "type": "integer"
                },
                "boundaryConditions": {
                    "items": {
                        "$ref": "#/$defs/BoundaryCondition"
                    },
                    "title": "Boundaryconditions",
                    "type": "array"
                },
                "bigDropletInjections": {
                    "items": {
                        "$ref": "#/$defs/BigDropletInjection"
                    },
                    "title": "Bigdropletinjections",
                    "type": "array"
                },
                "mixtureInjections": {
                    "items": {
                        "$ref": "#/$defs/MixtureInjection"
                    },
                    "title": "Mixtureinjections",
                    "type": "array"
                }
            },
            "required": [
                "name",
                "phase",
                "boundaryConditions",
                "bigDropletInjections",
                "mixtureInjections"
            ],
            "title": "Fixture",
            "type": "object"
        },
        "Fluid": {
            "additionalProperties": false,
            "properties": {
                "id": {
                    "title": "Id",
                    "type": "string"
                },
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "color": {
                    "$ref": "#/$defs/Color"
                },
                "concentration": {
                    "maximum": 1.0,
                    "minimum": 0.0,
                    "title": "Concentration",
                    "type": "number"
                },
                "density": {
                    "title": "Density",
                    "type": "number"
                },
                "viscosity": {
                    "title": "Viscosity",
                    "type": "number"
                }
            },
            "required": [
                "id",
                "name",
                "color",
                "concentration",
                "density",
                "viscosity"
            ],
            "title": "Fluid",
            "type": "object"
        },
        "Geometry": {
            "additionalProperties": false,
            "properties": {
                "width": {
                    "description": "Width of the chip in meters",
                    "exclusiveMinimum": 0.0,
                    "title": "Width",
                    "type": "number"
                },
                "height": {
                    "description": "Height of the chip in meters",
                    "exclusiveMinimum": 0.0,
                    "title": "Height",
                    "type": "number"
                },
                "depth": {
                    "description": "Depth of the chip in meters",
                    "exclusiveMinimum": 0.0,
                    "title": "Depth",
                    "type": "number"
                }
            },
            "required": [
                "width",
                "height",
                "depth"
            ],
            "title": "Geometry",
            "type": "object"
        },
        "Info": {
            "additionalProperties": false,
            "properties": {
                "id": {
                    "title": "Id",
                    "type": "string"
                },
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "cat": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Margin refers to the safety margin setting of the designer",
                    "title": "Cat"
                },
                "margin": {
                    "title": "Margin",
                    "type": "number"
                }
            },
            "required": [
                "id",
                "name",
                "margin"
            ],
            "title": "Info",
            "type": "object"
        },
        "Label": {
            "additionalProperties": false,
            "properties": {
                "text": {
                    "description": "User-defined labels to document chip / experiment design considerations",
                    "title": "Text",
                    "type": "string"
                },
                "x": {
                    "title": "X",
                    "type": "number"
                },
                "y": {
                    "title": "Y",
                    "type": "number"
                }
            },
            "required": [
                "text",
                "x",
                "y"
            ],
            "title": "Label",
            "type": "object"
        },
        "MixingModel": {
            "enum": [
                "instantaneous",
                "diffusive"
            ],
            "title": "MixingModel",
            "type": "string"
        },
        "Mixture": {
            "additionalProperties": false,
            "properties": {
                "species": {
                    "items": {
                        "type": "integer"
                    },
                    "title": "Species",
                    "type": "array"
                },
                "concentrations": {
                    "description": "Concentration can never be higher than the respective saturation concentration",
                    "items": {
                        "type": "number"
                    },
                    "title": "Concentrations",
                    "type": "array"
                }
            },
            "required": [
                "species",
                "concentrations"
            ],
            "title": "Mixture",
            "type": "object"
        },
        "MixtureInjection": {
            "additionalProperties": false,
            "properties": {
                "mixture": {
                    "title": "Mixture",
                    "type": "integer"
                },
                "channel": {
                    "title": "Channel",
                    "type": "integer"
                },
                "t0": {
                    "title": "T0",
                    "type": "number"
                }
            },
            "required": [
                "mixture",
                "channel",
                "t0"
            ],
            "title": "MixtureInjection",
            "type": "object"
        },
        "Module": {
            "additionalProperties": false,
            "properties": {
                "position": {
                    "maxItems": 3,
                    "minItems": 3,
                    "prefixItems": [
                        {
                            "type": "number"
                        },
                        {
                            "type": "number"
                        },
                        {
                            "type": "number"
                        }
                    ],
                    "title": "Position",
                    "type": "array"
                },
                "size": {
                    "maxItems": 3,
                    "minItems": 3,
                    "prefixItems": [
                        {
                            "type": "number"
                        },
                        {
                            "type": "number"
                        },
                        {
                            "type": "number"
                        }
                    ],
                    "title": "Size",
                    "type": "array"
                },
                "nodes": {
                    "items": {
                        "type": "integer"
                    },
                    "title": "Nodes",
                    "type": "array"
                }
            },
            "required": [
                "position",
                "size",
                "nodes"
            ],
            "title": "Module",
            "type": "object"
        },
        "Network": {
            "additionalProperties": false,
            "properties": {
                "info": {
                    "$ref": "#/$defs/Info"
                },
                "geometry": {
                    "$ref": "#/$defs/Geometry"
                },
                "nodes": {
                    "items": {
                        "$ref": "#/$defs/Node"
                    },
                    "title": "Nodes",
                    "type": "array"
                },
                "channels": {
                    "items": {
                        "$ref": "#/$defs/Channel"
                    },
                    "title": "Channels",
                    "type": "array"
                },
                "modules": {
                    "items": {
                        "$ref": "#/$defs/Module"
                    },
                    "title": "Modules",
                    "type": "array"
                },
                "labels": {
                    "items": {
                        "$ref": "#/$defs/Label"
                    },
                    "title": "Labels",
                    "type": "array"
                }
            },
            "required": [
                "info",
                "geometry",
                "nodes",
                "channels",
                "modules",
                "labels"
            ],
            "title": "Network",
            "type": "object"
        },
        "Node": {
            "additionalProperties": false,
            "properties": {
                "x": {
                    "title": "X",
                    "type": "number"
                },
                "y": {
                    "title": "Y",
                    "type": "number"
                },
                "z": {
                    "anyOf": [
                        {
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": 0,
                    "title": "Z"
                },
                "diameter": {
                    "anyOf": [
                        {
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Diameter"
                },
                "mesh": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/NodeMesh"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "3dexport": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": false,
                    "description": "If set, the node has a 3d representation",
                    "title": "3Dexport"
                },
                "virtual": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Virtual"
                },
                "HSA": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Hsa"
                },
                "ground": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Ground"
                }
            },
            "required": [
                "x",
                "y"
            ],
            "title": "Node",
            "type": "object"
        },
        "NodeMesh": {
            "additionalProperties": false,
            "properties": {},
            "title": "NodeMesh",
            "type": "object"
        },
        "Opening": {
            "additionalProperties": false,
            "properties": {
                "node": {
                    "title": "Node",
                    "type": "integer"
                },
                "normal": {
                    "allOf": [
                        {
                            "$ref": "#/$defs/OpeningNormal"
                        }
                    ],
                    "description": "This should be a unit vector, but the conversion can better be done in the back-end. For now 'z' is probably always zero, if we don't consider fully 3D network structures."
                }
            },
            "required": [
                "node",
                "normal"
            ],
            "title": "Opening",
            "type": "object"
        },
        "OpeningNormal": {
            "additionalProperties": false,
            "properties": {
                "x": {
                    "title": "X",
                    "type": "number"
                },
                "y": {
                    "title": "Y",
                    "type": "number"
                },
                "z": {
                    "title": "Z",
                    "type": "number"
                }
            },
            "required": [
                "x",
                "y",
                "z"
            ],
            "title": "OpeningNormal",
            "type": "object"
        },
        "Platform": {
            "enum": [
                "continuous",
                "bigdroplet"
            ],
            "title": "Platform",
            "type": "string"
        },
        "Pump": {
            "additionalProperties": false,
            "properties": {
                "channel": {
                    "title": "Channel",
                    "type": "integer"
                },
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "color": {
                    "$ref": "#/$defs/Color"
                },
                "type": {
                    "$ref": "#/$defs/PumpType"
                }
            },
            "required": [
                "channel",
                "name",
                "color",
                "type"
            ],
            "title": "Pump",
            "type": "object"
        },
        "PumpType": {
            "enum": [
                "flowratepump",
                "pressurepump"
            ],
            "title": "PumpType",
            "type": "string"
        },
        "ResistanceModel": {
            "enum": [
                "rectangular",
                "poiseuille"
            ],
            "title": "ResistanceModel",
            "type": "string"
        },
        "Settings": {
            "additionalProperties": false,
            "properties": {
                "duration": {
                    "description": "In seconds.",
                    "title": "Duration",
                    "type": "number"
                },
                "position": {
                    "title": "Position",
                    "type": "number"
                },
                "step": {
                    "description": "In seconds.",
                    "title": "Step",
                    "type": "number"
                },
                "loop": {
                    "title": "Loop",
                    "type": "boolean"
                },
                "vtkFolder": {
                    "title": "Vtkfolder",
                    "type": "string"
                },
                "simulators": {
                    "items": {
                        "$ref": "#/$defs/Simulator"
                    },
                    "title": "Simulators",
                    "type": "array"
                }
            },
            "required": [
                "duration",
                "position",
                "step",
                "loop",
                "vtkFolder",
                "simulators"
            ],
            "title": "Settings",
            "type": "object"
        },
        "Simulation": {
            "additionalProperties": false,
            "properties": {
                "platform": {
                    "$ref": "#/$defs/Platform"
                },
                "type": {
                    "$ref": "#/$defs/Type"
                },
                "resistanceModel": {
                    "$ref": "#/$defs/ResistanceModel"
                },
                "mixingModel": {
                    "$ref": "#/$defs/MixingModel"
                },
                "fluids": {
                    "items": {
                        "$ref": "#/$defs/Fluid"
                    },
                    "title": "Fluids",
                    "type": "array"
                },
                "species": {
                    "items": {
                        "$ref": "#/$defs/Species"
                    },
                    "title": "Species",
                    "type": "array"
                },
                "mixtures": {
                    "items": {
                        "$ref": "#/$defs/Mixture"
                    },
                    "title": "Mixtures",
                    "type": "array"
                },
                "pumps": {
                    "items": {
                        "$ref": "#/$defs/Pump"
                    },
                    "title": "Pumps",
                    "type": "array"
                },
                "fixtures": {
                    "items": {
                        "$ref": "#/$defs/Fixture"
                    },
                    "title": "Fixtures",
                    "type": "array"
                },
                "activeFixture": {
                    "title": "Activefixture",
                    "type": "integer"
                },
                "settings": {
                    "$ref": "#/$defs/Settings"
                }
            },
            "required": [
                "platform",
                "type",
                "resistanceModel",
                "mixingModel",
                "fluids",
                "species",
                "mixtures",
                "pumps",
                "fixtures",
                "activeFixture",
                "settings"
            ],
            "title": "Simulation",
            "type": "object"
        },
        "Simulator": {
            "additionalProperties": false,
            "properties": {
                "type": {
                    "$ref": "#/$defs/SimulatorType"
                },
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "stlContent": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Stlcontent"
                },
                "stlFile": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Stlfile"
                },
                "charPhysLength": {
                    "title": "Charphyslength",
                    "type": "number"
                },
                "charPhysVeloctiy": {
                    "title": "Charphysveloctiy",
                    "type": "number"
                },
                "alpha": {
                    "title": "Alpha",
                    "type": "number"
                },
                "resolution": {
                    "title": "Resolution",
                    "type": "number"
                },
                "epsilon": {
                    "title": "Epsilon",
                    "type": "number"
                },
                "tau": {
                    "title": "Tau",
                    "type": "number"
                },
                "moduleId": {
                    "title": "Moduleid",
                    "type": "integer"
                },
                "openings": {
                    "items": {
                        "$ref": "#/$defs/Opening"
                    },
                    "title": "Openings",
                    "type": "array"
                }
            },
            "required": [
                "type",
                "name",
                "charPhysLength",
                "charPhysVeloctiy",
                "alpha",
                "resolution",
                "epsilon",
                "tau",
                "moduleId",
                "openings"
            ],
            "title": "Simulator",
            "type": "object"
        },
        "SimulatorType": {
            "const": "lbm",
            "enum": [
                "lbm"
            ],
            "title": "SimulatorType",
            "type": "string"
        },
        "Species": {
            "additionalProperties": false,
            "properties": {
                "id": {
                    "title": "Id",
                    "type": "string"
                },
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "color": {
                    "$ref": "#/$defs/Color"
                },
                "diffusivity": {
                    "description": "Diffusivity is the value for the species in the continuous phase in m^2/s",
                    "title": "Diffusivity",
                    "type": "number"
                },
                "saturationConcentration": {
                    "description": "Saturation concentration is in g/m^3",
                    "title": "Saturationconcentration",
                    "type": "number"
                }
            },
            "required": [
                "id",
                "name",
                "color",
                "diffusivity",
                "saturationConcentration"
            ],
            "title": "Species",
            "type": "object"
        },
        "Type": {
            "enum": [
                "abstract",
                "hybrid"
            ],
            "title": "Type",
            "type": "string"
        }
    },
    "additionalProperties": false,
    "properties": {
        "network": {
            "$ref": "#/$defs/Network"
        },
        "simulation": {
            "$ref": "#/$defs/Simulation"
        }
    },
    "required": [
        "network",
        "simulation"
    ],
    "title": "MMFTDataModel",
    "type": "object"
}